# Configuration Netlify pour le frontend

[build]
  base = "frontend"
  publish = ".next"
  command = "npm run build"

[build.environment]
  NODE_VERSION = "20"
  # Note: NEXT_PUBLIC_API_URL doit être configuré dans les Variables d'environnement Netlify
  # et non ici pour éviter le scan de secrets

# Désactiver le scan de secrets pour les variables NEXT_PUBLIC (intentionnellement publiques)
[build.processing.css]
  bundle = true
  minify = true

# Exclure les variables publiques du scan de secrets
[secrets-scanning]
  omit_keys = ["NEXT_PUBLIC_API_URL"]

[[plugins]]
  package = "@netlify/plugin-nextjs"
